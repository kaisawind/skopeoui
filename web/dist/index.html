<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SkopeoUI</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <h1 class="text-2xl font-bold mb-4">Skopeo UI</h1>

  <!-- Tab Navigation -->
  <div class="flex space-x-4 mb-6 border-b">
    <button class="tab-btn font-medium" data-tab="once">一次性任务</button>
    <button class="tab-btn font-medium" data-tab="task">定时任务</button>
    <button class="tab-btn font-medium" data-tab="logs">任务日志</button>
  </div>

  <!-- Tab Contents -->
  <div id="tab-contents">
    <!-- 一次性任务 -->
    <div id="tab-once" class="tab-content">
      <div class="bg-white p-4 rounded shadow mb-4">
        <h2 class="text-lg font-semibold mb-2">新建一次性任务</h2>
        <form id="form-once" class="space-y-2">
          <input type="text" id="once-source" placeholder="Source Image" class="w-full p-2 border rounded" required />
          <input type="text" id="once-dest" placeholder="Destination Image" class="w-full p-2 border rounded" required />
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">提交</button>
        </form>
      </div>

      <div class="bg-white p-4 rounded shadow">
        <h2 class="text-lg font-semibold mb-2">查看日志</h2>
        <div class="flex space-x-2 mb-2">
          <select id="once-id-select" class="border p-2 rounded grow">
            <option value="">请选择一次性任务 ID</option>
          </select>
          <button id="btn-load-once-ids" class="bg-gray-600 text-white px-3 py-2 rounded">刷新列表</button>
        </div>
        <div id="once-log-container" class="bg-gray-900 text-green-400 p-3 h-96 overflow-y-auto font-mono text-sm"></div>
      </div>
    </div>

    <!-- 定时任务 -->
    <div id="tab-task" class="tab-content hidden">
      <div class="bg-white p-4 rounded shadow mb-4">
        <h2 class="text-lg font-semibold mb-2">新建定时任务</h2>
        <form id="form-task" class="space-y-2">
          <input type="text" id="task-cron" placeholder="Cron 表达式" class="w-full p-2 border rounded" required />
          <input type="text" id="task-source" placeholder="Source Image" class="w-full p-2 border rounded" required />
          <input type="text" id="task-dest" placeholder="Destination Image" class="w-full p-2 border rounded" required />
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">创建</button>
        </form>
      </div>

      <div class="bg-white p-4 rounded shadow">
        <h2 class="text-lg font-semibold mb-2">定时任务列表</h2>
        <div class="flex justify-between items-center mb-2">
          <div>
            <button id="btn-prev" class="bg-gray-200 px-3 py-1 rounded">&lt;</button>
            <span id="page-info" class="mx-2">第 1 页</span>
            <button id="btn-next" class="bg-gray-200 px-3 py-1 rounded">&gt;</button>
          </div>
          <button id="btn-refresh-tasks" class="bg-gray-600 text-white px-3 py-1 rounded">刷新</button>
        </div>
        <table class="w-full text-sm">
          <thead><tr class="border-b"><th>ID</th><th>Cron</th><th>Source</th><th>Dest</th><th>操作</th></tr></thead>
          <tbody id="task-list"></tbody>
        </table>
      </div>
    </div>

    <!-- 日志查看（定时任务） -->
    <div id="tab-logs" class="tab-content hidden">
      <div class="bg-white p-4 rounded shadow mb-4">
        <h2 class="text-lg font-semibold mb-2">选择定时任务查看日志</h2>
        <div class="flex space-x-2">
          <select id="task-id-select" class="border p-2 rounded grow">
            <option value="">请选择任务 ID</option>
          </select>
          <button id="btn-load-task-ids" class="bg-gray-600 text-white px-3 py-2 rounded">加载任务</button>
        </div>
      </div>
      <div id="task-log-container" class="bg-gray-900 text-green-400 p-3 h-96 overflow-y-auto font-mono text-sm"></div>
    </div>
  </div>
  <script src="./js/app.js"></script>
</body>
</html>